/*!
 * CirebonWeb (https://cirebonweb.com)
 * Copyright (c) 2023 CirebonWeb
 * Licensed under MIT (https://opensource.org/licenses/MIT)
 */
let baseUrl=window.location.href;window.Lokasi={sistemUrl:`${baseUrl}/simpan-sistem`,situsUrl:`${baseUrl}/simpan-situs`,smtpUrl:`${baseUrl}/simpan-smtp`,recaptchaUrl:`${baseUrl}/simpan-recaptcha`};let $sistemForm=$("#sistem-form"),$sistemSubmit=$("#sistem-submit"),$sistemLoading=$("#sistem-loading"),$situsForm=$("#situs-form"),$situsSubmit=$("#situs-submit"),$situsLoading=$("#situs-loading"),$smtpForm=$("#smtp-form"),$smtpSubmit=$("#smtp-submit"),$smtpLoading=$("#smtp-loading"),$recaptchaForm=$("#recaptcha-form"),$recaptchaSubmit=$("#recaptcha-submit"),$recaptchaLoading=$("#recaptcha-loading");function cekpwd(){let input=$("#smtpPass").get(0);"password"===input.type?($(".ikon").html("<i class='bi bi-eye-slash'></i>"),input.type="text"):($(".ikon").html("<i class='bi bi-eye'></i>"),input.type="password")}$((function(){$('[data-toggle="tooltip"]').tooltip(),$sistemLoading.hide(),$situsLoading.hide(),$smtpLoading.hide(),$recaptchaLoading.hide(),$("#smtpCrypto").on("change",(function(){let port="ssl"===$(this).val()?465:25;$("#smtpPort").val(port)}))})),$((function(){let formCek=FormHelper.cekFormData($sistemForm);$sistemForm.validate($.extend(FormHelper.validasiForm(),{ignore:[],rules:{authRegistration:{required:!0},authMagicLink:{required:!0},authRemembering:{required:!0},authRememberLength:{required:!0,digits:!0,minlength:5,maxlength:30}},submitHandler:form=>($sistemForm.find(":input").removeClass("is-invalid is-valid"),!!formCek.isChanged()&&FormHelper.submitForm(form,Lokasi.sistemUrl,$sistemSubmit,$sistemLoading,{formCek:formCek}))}))})),$((function(){let formCek=FormHelper.cekFormData($situsForm);$situsForm.validate($.extend(FormHelper.validasiForm(),{ignore:[],rules:{siteNama:{required:!0,minlength:5,maxlength:50},siteTagline:{required:!0,minlength:5,maxlength:50},siteTelp:{required:!1,digits:!0,minlength:5,maxlength:50},siteWa:{required:!0,digits:!0,minlength:8,maxlength:15},siteTelegram:{required:!1,digits:!0,minlength:8,maxlength:15},siteEmail:{required:!0,customEmail:!0},siteAlamat:{required:!0,minlength:10,maxlength:255}},submitHandler:form=>($situsForm.find(":input").removeClass("is-invalid is-valid"),!!formCek.isChanged()&&FormHelper.submitForm(form,Lokasi.situsUrl,$situsSubmit,$situsLoading,{reload:!0}))}))})),$((function(){let formCek=FormHelper.cekFormData($smtpForm);$smtpForm.validate($.extend(FormHelper.validasiForm(),{ignore:[],rules:{smtpEmail:{required:!0,minlength:10,maxlength:100,customEmail:!0},smtpNama:{required:!0,minlength:5,maxlength:50},smtpPenerima:{required:!0,minlength:10,maxlength:100,customEmail:!0},smtpHost:{required:!0,minlength:10,maxlength:100},smtpProtocol:{required:!0},smtpCrypto:{required:!1},smtpPort:{required:!0,digits:!0,minlength:2,maxlength:5},smtpUser:{required:!0,minlength:10,maxlength:100,customEmail:!0},smtpPass:{required:!1,minlength:8}},submitHandler:function(form){return $smtpForm.find(":input").removeClass("is-invalid is-valid"),!!formCek.isChanged()&&FormHelper.submitForm(form,Lokasi.smtpUrl,$smtpSubmit,$smtpLoading,{formCek:formCek})}}))})),$((function(){let formCek=FormHelper.cekFormData($recaptchaForm);$recaptchaForm.validate($.extend(FormHelper.validasiForm(),{ignore:[],rules:{gRecaptcha:{required:!0},gSiteKey:{required:!0,minlength:40,maxlength:40},gSecretKey:{required:!0,minlength:40,maxlength:40}},submitHandler:form=>($recaptchaForm.find(":input").removeClass("is-invalid is-valid"),!!formCek.isChanged()&&FormHelper.submitForm(form,Lokasi.recaptchaUrl,$recaptchaSubmit,$recaptchaLoading,{formCek:formCek}))}))}));